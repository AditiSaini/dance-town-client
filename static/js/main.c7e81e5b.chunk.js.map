{"version":3,"sources":["resources/danceman.gif","containers/NotFound.js","containers/Home.js","components/LoaderButton.js","components/FacebookButton.js","containers/Login.js","containers/Signup.js","containers/Profile.js","libs/awsLib.js","libs/errorLib.js","config.js","containers/NewNote.js","containers/Challenges.js","containers/DanceUp.js","components/AppliedRoute.js","components/AuthenticatedRoute.js","components/UnauthenticatedRoute.js","Routes.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","NotFound","className","Home","props","handleNoteClick","event","preventDefault","history","push","currentTarget","getAttribute","state","isLoading","notes","this","isAuthenticated","challenges","setState","alert","API","get","s3URL","concat","map","note","i","Card","key","noteId","href","onClick","CardMedia","component","image","userId","attachment","src","title","CardContent","Typography","gutterBottom","variant","content","trim","split","color","Date","createdAt","toLocaleString","to","PageHeader","renderNotesList1","renderNotes","renderLander","Component","text","loadingText","disabled","Button","Glyphicon","glyph","FacebookButton","statusChangeCallback","response","status","handleResponse","authResponse","handleError","checkLoginState","window","FB","getLoginStatus","handleClick","login","scope","Promise","res","rej","hasFbLoaded","setTimeout","error","data","email","token","accessToken","expiresIn","expires_at","getTime","user","Auth","federatedSignIn","onLogin","block","bsSize","bsStyle","Login","handleFbLogin","userHasAuthenticated","handleChange","target","id","value","handleSubmit","a","signIn","password","message","length","onSubmit","FormGroup","controlId","ControlLabel","FormControl","autoFocus","type","onChange","validateForm","Signup","signUp","username","newUser","handleConfirmationSubmit","confirmSignUp","confirmationCode","confirmPassword","HelpBlock","validateConfirmationForm","renderForm","renderConfirmationForm","ListGroupItem","header","ListGroup","renderNotesList","s3Upload","file","filename","now","name","Storage","vault","put","contentType","stored","onError","toString","Error","REGION","BUCKET","URL","USER_POOL_ID","APP_CLIENT_ID","IDENTITY_POOL_ID","NewNote","useRef","useHistory","useState","setContent","setIsLoading","current","size","config","createNote","post","body","componentClass","e","files","Notes","useParams","challenge","setNote","isPublic","setPublic","isDeleting","setIsDeleting","saveNote","deleteNote","del","confirm","useEffect","loadNote","attachmentURL","onLoad","width","height","controls","FormControlLabel","control","Checkbox","checked","_","label","DanceUp","CardActions","danceman","C","cProps","rest","render","location","pathname","search","redirect","url","replace","regex","RegExp","results","exec","decodeURIComponent","querystring","childProps","AppliedRoute","path","exact","UnauthenticatedRoute","AuthenticatedRoute","Profile","App","authenticated","handleLogout","signOut","isAuthenticating","loadFacebookSDK","currentAuthenticatedUser","fbAsyncInit","init","appId","autoLogAppEvents","xfbml","version","d","s","js","fjs","getElementsByTagName","getElementById","createElement","parentNode","insertBefore","document","Navbar","fluid","collapseOnSelect","Header","Brand","Toggle","Collapse","Nav","pullRight","NavItem","Routes","withRouter","Boolean","hostname","match","Amplify","configure","mandatorySignIn","region","userPoolId","identityPoolId","userPoolWebClientId","bucket","endpoints","endpoint","ReactDOM","basename","navigator","serviceWorker","ready","then","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.c7e81e5b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/danceman.be335c25.gif\";","import React from \"react\";\nimport \"./NotFound.css\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"NotFound\">\n      <h3>Sorry, page not found!</h3>\n    </div>\n  );\n}","import React, { Component } from \"react\";\nimport { API } from \"aws-amplify\";\nimport { Auth } from 'aws-amplify';\nimport { Link } from \"react-router-dom\";\nimport { PageHeader, ListGroup, ListGroupItem } from \"react-bootstrap\";\nimport { Card, CardMedia, CardContent, Typography } from \"@material-ui/core\";\nimport \"./Home.css\";\n\nexport default class Home extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n      notes: []\n    };\n  }\n\n  async componentDidMount() {\n    if (!this.props.isAuthenticated) {\n      return;\n    }\n\n    try {\n      const notes = await this.challenges();\n      this.setState({ notes });\n    } catch (e) {\n      alert(e);\n    }\n\n    this.setState({ isLoading: false });\n  }\n\n  challenges() {\n    return API.get(\"notes\", \"/challenges\")\n  }\n\n  handleNoteClick = event => {\n    event.preventDefault();\n    this.props.history.push(event.currentTarget.getAttribute(\"href\"));\n  }\n\n  renderNotesList1(notes) {\n    const s3URL = 'https://dancetown-app-api-dev-attachmentsbucket-ic13uq6xqxwk.s3.amazonaws.com/private';\n    \n    return [{}].concat(notes).map(\n      (note, i) =>\n        i !== 0\n          ? \n          <Card className=\"card-container\"\n            key={note.noteId}\n            href={`/danceup/${note.noteId}`}\n            onClick={this.handleNoteClick}\n          >\n            <CardMedia\n              className=\"card-video\"\n              component=\"video\"\n              image={s3URL + '/' + note.userId + '/' + note.attachment}\n              src={s3URL + '/' + note.userId + '/' + note.attachment}\n              title=\"Media\"\n            />\n            <CardContent>\n              <Typography gutterBottom variant=\"h4\" component=\"h2\">\n                {note.content.trim().split(\"\\n\")[0]}\n              </Typography>\n              <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                {\"Created: \" + new Date(note.createdAt).toLocaleString()}\n              </Typography>\n            </CardContent>\n          </Card>\n          : null\n    );\n  }\n\n  renderLander() {\n    return (\n      <div className=\"lander\">\n        <h1>Home Town</h1>\n        <p>This is the Home page for all your dance need</p>\n        <div>\n          <Link to=\"/login\" className=\"btn btn-info btn-lg\">\n            Login\n          </Link>\n          <Link to=\"/signup\" className=\"btn btn-success btn-lg\">\n            Signup\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  renderNotes() {\n    return (\n      <div className=\"notes\">\n        <PageHeader>Global challenges:</PageHeader>\n        <div className=\"notes-container\">\n          {!this.state.isLoading && this.renderNotesList1(this.state.notes)}\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"Home\">\n        {this.props.isAuthenticated ? this.renderNotes() : this.renderLander()}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Button, Glyphicon } from \"react-bootstrap\";\nimport \"./LoaderButton.css\";\n\nexport default ({\n  isLoading,\n  text,\n  loadingText,\n  className = \"\",\n  disabled = false,\n  ...props\n}) =>\n  <Button\n    className={`LoaderButton ${className}`}\n    disabled={disabled || isLoading}\n    {...props}\n  >\n    {isLoading && <Glyphicon glyph=\"refresh\" className=\"spinning\" />}\n    {!isLoading ? text : loadingText}\n  </Button>;\n","import React, { Component } from \"react\";\nimport { Auth } from \"aws-amplify\";\nimport LoaderButton from \"./LoaderButton\";\n\nfunction waitForInit() {\n  return new Promise((res, rej) => {\n    const hasFbLoaded = () => {\n      if (window.FB) {\n        res();\n      } else {\n        setTimeout(hasFbLoaded, 300);\n      }\n    };\n    hasFbLoaded();\n  });\n}\n\nexport default class FacebookButton extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true\n    };\n  }\n\n  async componentDidMount() {\n    await waitForInit();\n    this.setState({ isLoading: false });\n  }\n\n  statusChangeCallback = response => {\n    if (response.status === \"connected\") {\n      this.handleResponse(response.authResponse);\n    } else {\n      this.handleError(response);\n    }\n  };\n\n  checkLoginState = () => {\n    window.FB.getLoginStatus(this.statusChangeCallback);\n  };\n\n  handleClick = () => {\n    window.FB.login(this.checkLoginState, {scope: \"public_profile,email\"});\n  };\n\n  handleError(error) {\n    alert(error);\n  }\n\n  async handleResponse(data) {\n    const { email, accessToken: token, expiresIn } = data;\n    const expires_at = expiresIn * 1000 + new Date().getTime();\n    const user = { email };\n\n    this.setState({ isLoading: true });\n\n    try {\n      const response = await Auth.federatedSignIn(\n        \"facebook\",\n        { token, expires_at },\n        user\n      );\n      this.setState({ isLoading: false });\n      this.props.onLogin(response);\n    } catch (e) {\n      this.setState({ isLoading: false });\n      this.handleError(e);\n    }\n  }\n\n  render() {\n    return (\n      <LoaderButton\n        block\n        bsSize=\"large\"\n        bsStyle=\"primary\"\n        className=\"FacebookButton\"\n        text=\"Login with Facebook\"\n        onClick={this.handleClick}\n        disabled={this.state.isLoading}\n      />\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Auth } from \"aws-amplify\";\nimport { FormGroup, FormControl, ControlLabel } from \"react-bootstrap\";\nimport LoaderButton from \"../components/LoaderButton\";\nimport FacebookButton from \"../components/FacebookButton\";\nimport \"./Login.css\";\n\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: false,\n      email: \"\",\n      password: \"\"\n    };\n  }\n\n  validateForm() {\n    return this.state.email.length > 0 && this.state.password.length > 0;\n  }\n\n  handleFbLogin = () => {\n    this.props.userHasAuthenticated(true);\n  };\n\n  handleChange = event => {\n    this.setState({\n      [event.target.id]: event.target.value\n    });\n  };\n\n  handleSubmit = async event => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    try {\n      await Auth.signIn(this.state.email, this.state.password);\n      this.props.userHasAuthenticated(true);\n    } catch (e) {\n      alert(e.message);\n      this.setState({ isLoading: false });\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"Login\">\n        <form onSubmit={this.handleSubmit}>\n          <FacebookButton\n            onLogin={this.handleFbLogin}\n          />\n          <hr />\n          <FormGroup controlId=\"email\" bsSize=\"large\">\n            <ControlLabel>Email</ControlLabel>\n            <FormControl\n              autoFocus\n              type=\"email\"\n              value={this.state.email}\n              onChange={this.handleChange}\n            />\n          </FormGroup>\n          <FormGroup controlId=\"password\" bsSize=\"large\">\n            <ControlLabel>Password</ControlLabel>\n            <FormControl\n              value={this.state.password}\n              onChange={this.handleChange}\n              type=\"password\"\n            />\n          </FormGroup>\n          <LoaderButton\n            block\n            bsSize=\"large\"\n            disabled={!this.validateForm()}\n            type=\"submit\"\n            isLoading={this.state.isLoading}\n            text=\"Login\"\n            loadingText=\"Logging in…\"\n          />\n        </form>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport {\n  HelpBlock,\n  FormGroup,\n  FormControl,\n  ControlLabel\n} from \"react-bootstrap\";\nimport { Auth } from \"aws-amplify\";\nimport LoaderButton from \"../components/LoaderButton\";\nimport FacebookButton from \"../components/FacebookButton\";\nimport \"./Signup.css\";\n\nexport default class Signup extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: false,\n      email: \"\",\n      password: \"\",\n      confirmPassword: \"\",\n      confirmationCode: \"\",\n      newUser: null\n    };\n  }\n\n  validateForm() {\n    return (\n      this.state.email.length > 0 &&\n      this.state.password.length > 0 &&\n      this.state.password === this.state.confirmPassword\n    );\n  }\n\n  validateConfirmationForm() {\n    return this.state.confirmationCode.length > 0;\n  }\n\n  handleFbLogin = () => {\n    this.props.userHasAuthenticated(true);\n  };\n\n  handleChange = event => {\n    this.setState({\n      [event.target.id]: event.target.value\n    });\n  };\n\n  handleSubmit = async event => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    try {\n      const newUser = await Auth.signUp({\n        username: this.state.email,\n        password: this.state.password\n      });\n      this.setState({\n        newUser\n      });\n    } catch (e) {\n      alert(e.message);\n    }\n\n    this.setState({ isLoading: false });\n  };\n\n  handleConfirmationSubmit = async event => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    try {\n      await Auth.confirmSignUp(this.state.email, this.state.confirmationCode);\n      await Auth.signIn(this.state.email, this.state.password);\n\n      this.props.userHasAuthenticated(true);\n      this.props.history.push(\"/\");\n    } catch (e) {\n      alert(e.message);\n      this.setState({ isLoading: false });\n    }\n  };\n\n  renderConfirmationForm() {\n    return (\n      <form onSubmit={this.handleConfirmationSubmit}>\n        <FormGroup controlId=\"confirmationCode\" bsSize=\"large\">\n          <ControlLabel>Confirmation Code</ControlLabel>\n          <FormControl\n            autoFocus\n            type=\"tel\"\n            value={this.state.confirmationCode}\n            onChange={this.handleChange}\n          />\n          <HelpBlock>Please check your email for the code.</HelpBlock>\n        </FormGroup>\n        <LoaderButton\n          block\n          bsSize=\"large\"\n          disabled={!this.validateConfirmationForm()}\n          type=\"submit\"\n          isLoading={this.state.isLoading}\n          text=\"Verify\"\n          loadingText=\"Verifying…\"\n        />\n      </form>\n    );\n  }\n\n  renderForm() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <FacebookButton\n          onLogin={this.handleFbLogin}\n        />\n        <hr />\n        <FormGroup controlId=\"email\" bsSize=\"large\">\n          <ControlLabel>Email</ControlLabel>\n          <FormControl\n            autoFocus\n            type=\"email\"\n            value={this.state.email}\n            onChange={this.handleChange}\n          />\n        </FormGroup>\n        <FormGroup controlId=\"password\" bsSize=\"large\">\n          <ControlLabel>Password</ControlLabel>\n          <FormControl\n            value={this.state.password}\n            onChange={this.handleChange}\n            type=\"password\"\n          />\n        </FormGroup>\n        <FormGroup controlId=\"confirmPassword\" bsSize=\"large\">\n          <ControlLabel>Confirm Password</ControlLabel>\n          <FormControl\n            value={this.state.confirmPassword}\n            onChange={this.handleChange}\n            type=\"password\"\n          />\n        </FormGroup>\n        <LoaderButton\n          block\n          bsSize=\"large\"\n          disabled={!this.validateForm()}\n          type=\"submit\"\n          isLoading={this.state.isLoading}\n          text=\"Signup\"\n          loadingText=\"Signing up…\"\n        />\n      </form>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"Signup\">\n        {this.state.newUser === null\n          ? this.renderForm()\n          : this.renderConfirmationForm()}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { API } from \"aws-amplify\";\nimport { Auth } from 'aws-amplify';\nimport { Link } from \"react-router-dom\";\nimport { PageHeader, ListGroup, ListGroupItem } from \"react-bootstrap\";\nimport \"./Profile.css\";\n\nexport default class Home extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n      notes: []\n    };\n  }\n\n  async componentDidMount() {\n\n    try {\n      const notes = await this.notes();\n      this.setState({ notes });\n    } catch (e) {\n      alert(e);\n    }\n\n    this.setState({ isLoading: false });\n  }\n\n  notes() {\n    return API.get(\"notes\", \"/notes\");\n  }\n\n  handleNoteClick = event => {\n    event.preventDefault();\n    this.props.history.push(event.currentTarget.getAttribute(\"href\"));\n  }\n\n  renderNotesList(notes) {\n    return [{}].concat(notes).map(\n      (note, i) =>\n        i !== 0\n          ? <ListGroupItem\n              key={note.noteId}\n              href={`/challenges/${note.noteId}`}\n              onClick={this.handleNoteClick}\n              header={note.content.trim().split(\"\\n\")[0]}\n            >\n              {\"Created: \" + new Date(note.createdAt).toLocaleString()}\n            </ListGroupItem>\n          : <ListGroupItem\n              key=\"new\"\n              href=\"/challenges/new\"\n              onClick={this.handleNoteClick}\n            >\n              <h4>\n                <b>{\"\\uFF0B\"}</b> Create a new challenge\n              </h4>\n            </ListGroupItem>\n    );\n  }\n\n  renderLander() {\n    return (\n      <div className=\"lander\">\n        <h1>Home Town</h1>\n        <p>This is the Home page for all your dance need</p>\n        <div>\n          <Link to=\"/login\" className=\"btn btn-info btn-lg\">\n            Login\n          </Link>\n          <Link to=\"/signup\" className=\"btn btn-success btn-lg\">\n            Signup\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  renderNotes() {\n    return (\n      <div className=\"notes\">\n        <PageHeader>Your Challenges</PageHeader>\n        <ListGroup>\n          {!this.state.isLoading && this.renderNotesList(this.state.notes)}\n        </ListGroup>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"Profile\">\n        {this.renderNotes()}\n      </div>\n    );\n  }\n}\n","import { Storage } from \"aws-amplify\";\n\nexport async function s3Upload(file) {\n  const filename = `${Date.now()}-${file.name}`;\n\n  const stored = await Storage.vault.put(filename, file, {\n    contentType: file.type,\n  });\n\n  return stored.key;\n}","export function onError(error) {\n    let message = error.toString();\n  \n    // Auth errors\n    if (!(error instanceof Error) && error.message) {\n      message = error.message;\n    }\n  \n    alert(message);\n  }","export default {\n  MAX_ATTACHMENT_SIZE: 50000000,\n  s3: {\n    REGION: \"us-east-1\",\n    BUCKET: \"dancetown-app-api-dev-attachmentsbucket-ic13uq6xqxwk\"\n  },\n  apiGateway: {\n    REGION: \"us-east-1\",\n    URL: \"https://a8ri42gnh0.execute-api.us-east-1.amazonaws.com/dev\"\n  },\n  cognito: {\n    REGION: \"us-east-1\",\n    USER_POOL_ID: \"us-east-1_Y4Pi1n6F0\",\n    APP_CLIENT_ID: \"1oft85bvo8q9ltflrrkl7cblt0\",\n    IDENTITY_POOL_ID: \"us-east-1:d9bc91be-17e4-413d-87f5-b89859a5dac9\"\n  },\n  social: {\n    FB: \"192446828747386\"\n  }\n};\n","import React, { useRef, useState } from \"react\";\nimport { s3Upload } from \"../libs/awsLib\";\nimport { useHistory } from \"react-router-dom\";\nimport { FormGroup, FormControl, ControlLabel } from \"react-bootstrap\";\nimport LoaderButton from \"../components/LoaderButton\";\nimport { API } from \"aws-amplify\";\nimport { onError } from \"../libs/errorLib\";\nimport config from \"../config\";\nimport \"./NewNote.css\";\n\nexport default function NewNote() {\n  const file = useRef(null);\n  const history = useHistory();\n  const [content, setContent] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  function validateForm() {\n    return content.length > 0;\n  }\n\n  function handleFileChange(event) {\n    file.current = event.target.files[0];\n  }\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n  \n    if (file.current && file.current.size > config.MAX_ATTACHMENT_SIZE) {\n      alert(\n        `Please pick a file smaller than ${\n          config.MAX_ATTACHMENT_SIZE / 1000000\n        } MB.`\n      );\n      return;\n    }\n  \n    setIsLoading(true);\n  \n    try {\n      const attachment = file.current ? await s3Upload(file.current) : null;\n  \n      await createNote({ content, attachment });\n      history.push(\"/\");\n    } catch (e) {\n      onError(e);\n      setIsLoading(false);\n    }\n  }\n  \n  \n  function createNote(note) {\n    return API.post(\"notes\", \"/notes\", {\n      body: note\n    });\n  }\n\n  return (\n    <div className=\"NewNote\">\n      <form onSubmit={handleSubmit}>\n        <FormGroup controlId=\"content\">\n          <FormControl\n            value={content}\n            componentClass=\"textarea\"\n            onChange={e => setContent(e.target.value)}\n          />\n        </FormGroup>\n        <FormGroup controlId=\"file\">\n          <ControlLabel>Attachment</ControlLabel>\n          <FormControl onChange={handleFileChange} type=\"file\" />\n        </FormGroup>\n        <LoaderButton\n            block\n            bsStyle=\"primary\"\n            bsSize=\"large\"\n            disabled={!validateForm()}\n            type=\"submit\"\n            isLoading={isLoading}\n            text=\"Create\"\n            loadingText=\"Creating…\"\n          />\n      </form>\n    </div>\n  );\n}","import React, { useRef, useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { API, Storage } from \"aws-amplify\";\nimport { s3Upload } from \"../libs/awsLib\";\nimport { onError } from \"../libs/errorLib\";\nimport { FormGroup, FormControl, ControlLabel } from \"react-bootstrap\";\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport LoaderButton from \"../components/LoaderButton\";\nimport config from \"../config\";\nimport \"./Challenges.css\";\n\nexport default function Notes() {\n    const file = useRef(null);\n    const { id } = useParams();\n    const history = useHistory();\n    const [challenge, setNote] = useState(null);\n    const [content, setContent] = useState(\"\");\n    const [isPublic, setPublic] = useState(false);\n    const [isLoading, setIsLoading] = useState(false);\n    const [isDeleting, setIsDeleting] = useState(false);\n\n    useEffect(() => {\n        function loadNote() {\n            return API.get(\"notes\", `/notes/${id}`);\n        }\n\n        async function onLoad() {\n            try {\n                const challenge = await loadNote();\n                const { content, attachment, isPublic } = challenge;\n                if (attachment) {\n                    challenge.attachmentURL = await Storage.vault.get(attachment);\n                }\n\n                setContent(content);\n                setNote(challenge);\n                setPublic(isPublic);\n            } catch (e) {\n                onError(e);\n            }\n        }\n\n        onLoad();\n    }, [id]);\n\n    function validateForm() {\n        return content.length > 0;\n    }\n\n    function formatFilename(str) {\n        return str.replace(/^\\w+-/, \"\");\n    }\n\n    function handleFileChange(event) {\n        file.current = event.target.files[0];\n    }\n\n    function saveNote(challenge) {\n        return API.put(\"notes\", `/notes/${id}`, {\n            body: challenge\n        });\n    }\n\n    async function handleSubmit(event) {\n        let attachment;\n\n        event.preventDefault();\n\n        if (file.current && file.current.size > config.MAX_ATTACHMENT_SIZE) {\n            alert(\n                `Please pick a file smaller than ${\n                config.MAX_ATTACHMENT_SIZE / 1000000\n                } MB.`\n            );\n            return;\n        }\n\n        setIsLoading(true);\n\n        try {\n            if (file.current) {\n                attachment = await s3Upload(file.current);\n            }\n\n            await saveNote({\n                content,\n                attachment: attachment || challenge.attachment,\n                isPublic\n            });\n            history.push(\"/\");\n        } catch (e) {\n            onError(e);\n            setIsLoading(false);\n        }\n    }\n\n    function deleteNote() {\n        return API.del(\"notes\", `/notes/${id}`);\n    }\n\n    async function handleDelete(event) {\n        event.preventDefault();\n\n        const confirmed = window.confirm(\n            \"Are you sure you want to delete this challenge?\"\n        );\n\n        if (!confirmed) {\n            return;\n        }\n\n        setIsDeleting(true);\n\n        try {\n            await deleteNote();\n            history.push(\"/\");\n        } catch (e) {\n            onError(e);\n            setIsDeleting(false);\n        }\n    }\n\n    return (\n        <div className=\"Challenges\">\n            {challenge && (\n                <form onSubmit={handleSubmit}>\n                    <FormGroup controlId=\"content\">\n                        <FormControl\n                            value={content}\n                            componentClass=\"textarea\"\n                            onChange={e => setContent(e.target.value)}\n                        />\n                    </FormGroup>\n                    {challenge.attachment && (\n                        <video width=\"320\" height=\"240\" controls>\n                            <source src={challenge.attachmentURL} type=\"video/mp4\" />\n                        </video>\n                    )}\n                    <FormGroup controlId=\"file\">\n                        {!challenge.attachment && <ControlLabel>Attachment</ControlLabel>}\n                        <FormControl onChange={handleFileChange} type=\"file\" />\n                    </FormGroup>\n                    <FormGroup>\n                        <FormControlLabel\n                            control={<Checkbox checked={isPublic} onChange={_ => setPublic(!isPublic)} name=\"isPublic\" />}\n                            label=\"Make item public\"\n                        />\n                    </FormGroup>\n                    <LoaderButton\n                        block\n                        type=\"submit\"\n                        bsSize=\"large\"\n                        bsStyle=\"primary\"\n                        text=\"save\"\n                        isLoading={isLoading}\n                        disabled={!validateForm()}\n                    />\n                    <LoaderButton\n                        block\n                        bsSize=\"large\"\n                        bsStyle=\"danger\"\n                        text=\"delete\"\n                        onClick={handleDelete}\n                        isLoading={isDeleting}\n                    />\n                </form>\n            )}\n        </div>\n    );\n}","import React, {useRef, useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { API, Storage } from \"aws-amplify\";\nimport { s3Upload } from \"../libs/awsLib\";\nimport { onError } from \"../libs/errorLib\";\nimport config from \"../config\";\nimport danceman from \"../resources/danceman.gif\"\nimport { Card, CardMedia, CardContent, Typography, CardActions } from \"@material-ui/core\";\nimport \"./DanceUp.css\";\n\nexport default function DanceUp() {\n  const file = useRef(null);\n  const { id } = useParams();\n  const history = useHistory();\n  const [challenge, setNote] = useState(null);\n  const [content, setContent] = useState(\"\");\n  const [isPublic, setPublic] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  useEffect(() => {\n    function loadNote() {\n      return API.get(\"notes\", `/notes/${id}`);\n    }\n\n    async function onLoad() {\n      try {\n        const challenge = await loadNote();\n        const { content, attachment, isPublic } = challenge;\n        if (attachment) {\n          challenge.attachmentURL = await Storage.vault.get(attachment);\n        }\n\n        setContent(content);\n        setNote(challenge);\n        setPublic(isPublic);\n      } catch (e) {\n        onError(e);\n      }\n    }\n\n    onLoad();\n  }, [id]);\n\n  function validateForm() {\n    return content.length > 0;\n  }\n\n  function formatFilename(str) {\n    return str.replace(/^\\w+-/, \"\");\n  }\n\n  function handleFileChange(event) {\n    file.current = event.target.files[0];\n  }\n\n  function saveNote(challenge) {\n    return API.put(\"notes\", `/notes/${id}`, {\n      body: challenge\n    });\n  }\n\n  async function handleSubmit(event) {\n    let attachment;\n\n    event.preventDefault();\n\n    if (file.current && file.current.size > config.MAX_ATTACHMENT_SIZE) {\n      alert(\n        `Please pick a file smaller than ${\n        config.MAX_ATTACHMENT_SIZE / 1000000\n        } MB.`\n      );\n      return;\n    }\n\n    setIsLoading(true);\n\n    try {\n      if (file.current) {\n        attachment = await s3Upload(file.current);\n      }\n\n      await saveNote({\n        content,\n        attachment: attachment || challenge.attachment,\n        isPublic\n      });\n      history.push(\"/\");\n    } catch (e) {\n      onError(e);\n      setIsLoading(false);\n    }\n  }\n\n  function deleteNote() {\n    return API.del(\"notes\", `/notes/${id}`);\n  }\n\n  async function handleDelete(event) {\n    event.preventDefault();\n\n    const confirmed = window.confirm(\n      \"Are you sure you want to delete this challenge?\"\n    );\n\n    if (!confirmed) {\n      return;\n    }\n\n    setIsDeleting(true);\n\n    try {\n      await deleteNote();\n      history.push(\"/\");\n    } catch (e) {\n      onError(e);\n      setIsDeleting(false);\n    }\n  }\n\n  return (\n    <div className=\"Challenges\">\n      {challenge && (\n        <div className=\"DanceUp\">\n          <Card className=\"card-container\"\n            href={`/challenges/${challenge.noteId}`}\n          >\n            <CardMedia\n              className=\"card-video\"\n              component=\"video\"\n              image={challenge.attachmentURL}\n              title=\"Media\"\n            />\n            <CardContent>\n              <Typography gutterBottom variant=\"h4\" component=\"h2\">\n                {challenge.content.trim().split(\"\\n\")[0]}\n              </Typography>\n              <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                {\"Created: \" + new Date(challenge.createdAt).toLocaleString()}\n              </Typography>\n            </CardContent>\n          </Card>\n\n          <Card className=\"card-container\"\n          >\n            <CardActions>\n            <img className=\"add-challenge\" src={danceman}></img>\n            <Typography className=\"add-challenge-text\" gutterBottom variant=\"h4\" component=\"h2\">\n                Add your Dance\n            </Typography>\n            </CardActions>\n            \n            \n          </Card>\n          {/* <form onSubmit={handleSubmit}>\n            <FormGroup controlId=\"content\">\n              <FormControl\n                value={content}\n                componentClass=\"textarea\"\n                onChange={e => setContent(e.target.value)}\n              />\n            </FormGroup>\n            {challenge.attachment && (\n              <video width=\"320\" height=\"240\" controls>\n                <source src={challenge.attachmentURL} type=\"video/mp4\" />\n              </video>\n            )}\n            <FormGroup controlId=\"file\">\n              {!challenge.attachment && <ControlLabel>Attachment</ControlLabel>}\n              <FormControl onChange={handleFileChange} type=\"file\" />\n            </FormGroup>\n            <FormGroup>\n              <FormControlLabel\n                control={<Checkbox checked={isPublic} onChange={_ => setPublic(!isPublic)} name=\"isPublic\" />}\n                label=\"Make item public\"\n              />\n            </FormGroup>\n            <LoaderButton\n              block\n              type=\"submit\"\n              bsSize=\"large\"\n              bsStyle=\"primary\"\n              text=\"save\"\n              isLoading={isLoading}\n              disabled={!validateForm()}\n            />\n            <LoaderButton\n              block\n              bsSize=\"large\"\n              bsStyle=\"danger\"\n              text=\"delete\"\n              onClick={handleDelete}\n              isLoading={isDeleting}\n            />\n          </form> */}\n        </div>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\n\nexport default ({ component: C, props: cProps, ...rest }) =>\n  <Route {...rest} render={props => <C {...props} {...cProps} />} />;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport default ({ component: C, props: cProps, ...rest }) =>\n  <Route\n    {...rest}\n    render={props =>\n      cProps.isAuthenticated\n        ? <C {...props} {...cProps} />\n        : <Redirect\n            to={`/login?redirect=${props.location.pathname}${props.location\n              .search}`}\n          />}\n  />;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nfunction querystring(name, url = window.location.href) {\n  name = name.replace(/[[]]/g, \"\\\\$&\");\n\n  const regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\", \"i\");\n  const results = regex.exec(url);\n\n  if (!results) {\n    return null;\n  }\n  if (!results[2]) {\n    return \"\";\n  }\n\n  return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\nexport default ({ component: C, props: cProps, ...rest }) => {\n  const redirect = querystring(\"redirect\");\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        !cProps.isAuthenticated\n          ? <C {...props} {...cProps} />\n          : <Redirect\n              to={redirect === \"\" || redirect === null ? \"/\" : redirect}\n            />}\n    />\n  );\n};\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n// Views:\nimport NotFound from \"./containers/NotFound\";\nimport Home from \"./containers/Home\";\nimport Login from \"./containers/Login\";\nimport Signup from \"./containers/Signup\";\nimport Profile from \"./containers/Profile\"\nimport NewNote from \"./containers/NewNote\";\nimport Challenges from \"./containers/Challenges\";\nimport DanceUp from \"./containers/DanceUp\";\nimport AppliedRoute from \"./components/AppliedRoute\";\nimport AuthenticatedRoute from \"./components/AuthenticatedRoute\";\nimport UnauthenticatedRoute from \"./components/UnauthenticatedRoute\";\n\nexport default ({ childProps }) =>\n    <Switch>\n        <AppliedRoute path=\"/\" exact component={Home} props={childProps} />\n        <UnauthenticatedRoute path=\"/login\" exact component={Login} props={childProps} />\n        <UnauthenticatedRoute path=\"/signup\" exact component={Signup} props={childProps} />\n        <AuthenticatedRoute exact component={Profile} props={childProps} path=\"/profile\" />\n        <AuthenticatedRoute exact path=\"/challenges/new\">\n            <NewNote />\n        </AuthenticatedRoute>\n        <AuthenticatedRoute exact path=\"/challenges/:id\">\n            <Challenges />\n        </AuthenticatedRoute>\n        <AuthenticatedRoute exact path=\"/danceup/:id\">\n            <DanceUp />\n        </AuthenticatedRoute>\n        <Route component={NotFound} />\n\n    </Switch>;","import React, { Component, Fragment } from \"react\";\nimport { Auth } from \"aws-amplify\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { Nav, Navbar, NavItem } from \"react-bootstrap\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport Routes from \"./Routes\";\nimport config from \"./config\";\nimport \"./App.css\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isAuthenticated: false,\n      isAuthenticating: true\n    };\n  }\n\n  async componentDidMount() {\n    this.loadFacebookSDK();\n\n    try {\n      await Auth.currentAuthenticatedUser();\n      this.userHasAuthenticated(true);\n    } catch (e) {\n      if (e !== \"not authenticated\") {\n        alert(e);\n      }\n    }\n\n    this.setState({ isAuthenticating: false });\n  }\n\n  loadFacebookSDK() {\n    window.fbAsyncInit = function () {\n      window.FB.init({\n        appId: config.social.FB,\n        autoLogAppEvents: true,\n        xfbml: true,\n        version: 'v3.1'\n      });\n    };\n\n    (function (d, s, id) {\n      var js, fjs = d.getElementsByTagName(s)[0];\n      if (d.getElementById(id)) { return; }\n      js = d.createElement(s); js.id = id;\n      js.src = \"https://connect.facebook.net/en_US/sdk.js\";\n      fjs.parentNode.insertBefore(js, fjs);\n    }(document, 'script', 'facebook-jssdk'));\n  }\n\n  userHasAuthenticated = authenticated => {\n    this.setState({ isAuthenticated: authenticated });\n  };\n\n  handleLogout = async event => {\n    await Auth.signOut();\n\n    this.userHasAuthenticated(false);\n\n    this.props.history.push(\"/login\");\n  };\n\n  render() {\n    const childProps = {\n      isAuthenticated: this.state.isAuthenticated,\n      userHasAuthenticated: this.userHasAuthenticated\n    };\n\n    return (\n      !this.state.isAuthenticating && (\n        <div className=\"App container\">\n          <Navbar fluid collapseOnSelect>\n            <Navbar.Header>\n              <Navbar.Brand>\n                <Link to=\"/\">DanceTown</Link>\n              </Navbar.Brand>\n              <Navbar.Toggle />\n            </Navbar.Header>\n            <Navbar.Collapse>\n              <Nav pullRight>\n                {this.state.isAuthenticated ? (\n                  <Fragment>\n                    <LinkContainer to=\"/profile\">\n                      <NavItem>Profile</NavItem>\n                    </LinkContainer>\n                    <NavItem onClick={this.handleLogout}>Logout</NavItem>\n                  </Fragment>\n                ) : (\n                    <Fragment>\n                      <LinkContainer to=\"/signup\">\n                        <NavItem>Signup</NavItem>\n                      </LinkContainer>\n                      <LinkContainer to=\"/login\">\n                        <NavItem>Login</NavItem>\n                      </LinkContainer>\n                    </Fragment>\n                  )}\n              </Nav>\n            </Navbar.Collapse>\n          </Navbar>\n          <Routes childProps={childProps} />\n        </div>\n      )\n    );\n  }\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Amplify } from 'aws-amplify';\nimport config from './config';\n\nAmplify.configure({\n  Auth: {\n    mandatorySignIn: true,\n    region: config.cognito.REGION,\n    userPoolId: config.cognito.USER_POOL_ID,\n    identityPoolId: config.cognito.IDENTITY_POOL_ID,\n    userPoolWebClientId: config.cognito.APP_CLIENT_ID\n  },\n  Storage: {\n    region: config.s3.REGION,\n    bucket: config.s3.BUCKET,\n    identityPoolId: config.cognito.IDENTITY_POOL_ID\n  },\n  API: {\n    endpoints: [\n      {\n        name: \"notes\",\n        endpoint: config.apiGateway.URL,\n        region: config.apiGateway.REGION\n      },\n    ]\n  }\n});\n\nReactDOM.render(\n  <HashRouter basename='/'>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}