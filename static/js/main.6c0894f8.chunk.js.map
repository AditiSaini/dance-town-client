{"version":3,"sources":["containers/NotFound.js","containers/Home.js","components/LoaderButton.js","components/FacebookButton.js","containers/Login.js","containers/Signup.js","libs/awsLib.js","libs/errorLib.js","config.js","containers/NewNote.js","containers/Challenges.js","components/AppliedRoute.js","components/AuthenticatedRoute.js","components/UnauthenticatedRoute.js","Routes.js","App.js","serviceWorker.js","index.js"],"names":["NotFound","className","Home","props","handleNoteClick","event","preventDefault","history","push","currentTarget","getAttribute","state","isLoading","notes","this","isAuthenticated","setState","alert","API","get","concat","map","note","i","ListGroupItem","key","noteId","href","onClick","header","content","trim","split","Date","createdAt","toLocaleString","to","PageHeader","ListGroup","renderNotesList","renderNotes","renderLander","Component","text","loadingText","disabled","Button","Glyphicon","glyph","FacebookButton","statusChangeCallback","response","status","handleResponse","authResponse","handleError","checkLoginState","window","FB","getLoginStatus","handleClick","login","scope","Promise","res","rej","hasFbLoaded","setTimeout","error","data","email","token","accessToken","expiresIn","expires_at","getTime","user","Auth","federatedSignIn","onLogin","block","bsSize","bsStyle","Login","handleFbLogin","userHasAuthenticated","handleChange","target","id","value","handleSubmit","a","signIn","password","message","length","onSubmit","FormGroup","controlId","ControlLabel","FormControl","autoFocus","type","onChange","validateForm","Signup","signUp","username","newUser","handleConfirmationSubmit","confirmSignUp","confirmationCode","confirmPassword","HelpBlock","validateConfirmationForm","renderForm","renderConfirmationForm","s3Upload","file","filename","now","name","Storage","vault","put","contentType","stored","onError","toString","Error","REGION","BUCKET","URL","USER_POOL_ID","APP_CLIENT_ID","IDENTITY_POOL_ID","NewNote","useRef","useHistory","useState","setContent","setIsLoading","current","size","config","attachment","createNote","post","body","componentClass","e","files","Notes","useParams","challenge","setNote","isDeleting","setIsDeleting","saveNote","deleteNote","del","confirm","useEffect","loadNote","attachmentURL","onLoad","Static","rel","replace","width","height","controls","src","C","component","cProps","rest","render","location","pathname","search","redirect","url","regex","RegExp","results","exec","decodeURIComponent","querystring","childProps","AppliedRoute","path","exact","UnauthenticatedRoute","AuthenticatedRoute","App","authenticated","handleLogout","signOut","isAuthenticating","loadFacebookSDK","currentAuthenticatedUser","fbAsyncInit","init","appId","autoLogAppEvents","xfbml","version","d","s","js","fjs","getElementsByTagName","getElementById","createElement","parentNode","insertBefore","document","Navbar","fluid","collapseOnSelect","Header","Brand","Toggle","Collapse","Nav","pullRight","NavItem","Routes","withRouter","Boolean","hostname","match","Amplify","configure","mandatorySignIn","region","userPoolId","identityPoolId","userPoolWebClientId","bucket","endpoints","endpoint","ReactDOM","basename","navigator","serviceWorker","ready","then","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.6c0894f8.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./NotFound.css\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"NotFound\">\n      <h3>Sorry, page not found!</h3>\n    </div>\n  );\n}","import React, { Component } from \"react\";\nimport { API } from \"aws-amplify\";\nimport { Link } from \"react-router-dom\";\nimport { PageHeader, ListGroup, ListGroupItem } from \"react-bootstrap\";\nimport \"./Home.css\";\n\nexport default class Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n      notes: []\n    };\n  }\n\n  async componentDidMount() {\n    if (!this.props.isAuthenticated) {\n      return;\n    }\n\n    try {\n      const notes = await this.notes();\n      this.setState({ notes });\n    } catch (e) {\n      alert(e);\n    }\n\n    this.setState({ isLoading: false });\n  }\n\n  notes() {\n    return API.get(\"notes\", \"/notes\");\n  }\n\n  handleNoteClick = event => {\n    event.preventDefault();\n    this.props.history.push(event.currentTarget.getAttribute(\"href\"));\n  }\n\n  renderNotesList(notes) {\n    return [{}].concat(notes).map(\n      (note, i) =>\n        i !== 0\n          ? <ListGroupItem\n              key={note.noteId}\n              href={`/challenges/${note.noteId}`}\n              onClick={this.handleNoteClick}\n              header={note.content.trim().split(\"\\n\")[0]}\n            >\n              {\"Created: \" + new Date(note.createdAt).toLocaleString()}\n            </ListGroupItem>\n          : <ListGroupItem\n              key=\"new\"\n              href=\"/challenges/new\"\n              onClick={this.handleNoteClick}\n            >\n              <h4>\n                <b>{\"\\uFF0B\"}</b> Create a new challenge\n              </h4>\n            </ListGroupItem>\n    );\n  }\n\n  renderLander() {\n    return (\n      <div className=\"lander\">\n        <h1>Home Town</h1>\n        <p>This is the Home page for all your dance need</p>\n        <div>\n          <Link to=\"/login\" className=\"btn btn-info btn-lg\">\n            Login\n          </Link>\n          <Link to=\"/signup\" className=\"btn btn-success btn-lg\">\n            Signup\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  renderNotes() {\n    return (\n      <div className=\"notes\">\n        <PageHeader>Your Challenges</PageHeader>\n        <ListGroup>\n          {!this.state.isLoading && this.renderNotesList(this.state.notes)}\n        </ListGroup>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"Home\">\n        {this.props.isAuthenticated ? this.renderNotes() : this.renderLander()}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Button, Glyphicon } from \"react-bootstrap\";\nimport \"./LoaderButton.css\";\n\nexport default ({\n  isLoading,\n  text,\n  loadingText,\n  className = \"\",\n  disabled = false,\n  ...props\n}) =>\n  <Button\n    className={`LoaderButton ${className}`}\n    disabled={disabled || isLoading}\n    {...props}\n  >\n    {isLoading && <Glyphicon glyph=\"refresh\" className=\"spinning\" />}\n    {!isLoading ? text : loadingText}\n  </Button>;\n","import React, { Component } from \"react\";\nimport { Auth } from \"aws-amplify\";\nimport LoaderButton from \"./LoaderButton\";\n\nfunction waitForInit() {\n  return new Promise((res, rej) => {\n    const hasFbLoaded = () => {\n      if (window.FB) {\n        res();\n      } else {\n        setTimeout(hasFbLoaded, 300);\n      }\n    };\n    hasFbLoaded();\n  });\n}\n\nexport default class FacebookButton extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true\n    };\n  }\n\n  async componentDidMount() {\n    await waitForInit();\n    this.setState({ isLoading: false });\n  }\n\n  statusChangeCallback = response => {\n    if (response.status === \"connected\") {\n      this.handleResponse(response.authResponse);\n    } else {\n      this.handleError(response);\n    }\n  };\n\n  checkLoginState = () => {\n    window.FB.getLoginStatus(this.statusChangeCallback);\n  };\n\n  handleClick = () => {\n    window.FB.login(this.checkLoginState, {scope: \"public_profile,email\"});\n  };\n\n  handleError(error) {\n    alert(error);\n  }\n\n  async handleResponse(data) {\n    const { email, accessToken: token, expiresIn } = data;\n    const expires_at = expiresIn * 1000 + new Date().getTime();\n    const user = { email };\n\n    this.setState({ isLoading: true });\n\n    try {\n      const response = await Auth.federatedSignIn(\n        \"facebook\",\n        { token, expires_at },\n        user\n      );\n      this.setState({ isLoading: false });\n      this.props.onLogin(response);\n    } catch (e) {\n      this.setState({ isLoading: false });\n      this.handleError(e);\n    }\n  }\n\n  render() {\n    return (\n      <LoaderButton\n        block\n        bsSize=\"large\"\n        bsStyle=\"primary\"\n        className=\"FacebookButton\"\n        text=\"Login with Facebook\"\n        onClick={this.handleClick}\n        disabled={this.state.isLoading}\n      />\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Auth } from \"aws-amplify\";\nimport { FormGroup, FormControl, ControlLabel } from \"react-bootstrap\";\nimport LoaderButton from \"../components/LoaderButton\";\nimport FacebookButton from \"../components/FacebookButton\";\nimport \"./Login.css\";\n\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: false,\n      email: \"\",\n      password: \"\"\n    };\n  }\n\n  validateForm() {\n    return this.state.email.length > 0 && this.state.password.length > 0;\n  }\n\n  handleFbLogin = () => {\n    this.props.userHasAuthenticated(true);\n  };\n\n  handleChange = event => {\n    this.setState({\n      [event.target.id]: event.target.value\n    });\n  };\n\n  handleSubmit = async event => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    try {\n      await Auth.signIn(this.state.email, this.state.password);\n      this.props.userHasAuthenticated(true);\n    } catch (e) {\n      alert(e.message);\n      this.setState({ isLoading: false });\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"Login\">\n        <form onSubmit={this.handleSubmit}>\n          <FacebookButton\n            onLogin={this.handleFbLogin}\n          />\n          <hr />\n          <FormGroup controlId=\"email\" bsSize=\"large\">\n            <ControlLabel>Email</ControlLabel>\n            <FormControl\n              autoFocus\n              type=\"email\"\n              value={this.state.email}\n              onChange={this.handleChange}\n            />\n          </FormGroup>\n          <FormGroup controlId=\"password\" bsSize=\"large\">\n            <ControlLabel>Password</ControlLabel>\n            <FormControl\n              value={this.state.password}\n              onChange={this.handleChange}\n              type=\"password\"\n            />\n          </FormGroup>\n          <LoaderButton\n            block\n            bsSize=\"large\"\n            disabled={!this.validateForm()}\n            type=\"submit\"\n            isLoading={this.state.isLoading}\n            text=\"Login\"\n            loadingText=\"Logging in…\"\n          />\n        </form>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport {\n  HelpBlock,\n  FormGroup,\n  FormControl,\n  ControlLabel\n} from \"react-bootstrap\";\nimport { Auth } from \"aws-amplify\";\nimport LoaderButton from \"../components/LoaderButton\";\nimport FacebookButton from \"../components/FacebookButton\";\nimport \"./Signup.css\";\n\nexport default class Signup extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: false,\n      email: \"\",\n      password: \"\",\n      confirmPassword: \"\",\n      confirmationCode: \"\",\n      newUser: null\n    };\n  }\n\n  validateForm() {\n    return (\n      this.state.email.length > 0 &&\n      this.state.password.length > 0 &&\n      this.state.password === this.state.confirmPassword\n    );\n  }\n\n  validateConfirmationForm() {\n    return this.state.confirmationCode.length > 0;\n  }\n\n  handleFbLogin = () => {\n    this.props.userHasAuthenticated(true);\n  };\n\n  handleChange = event => {\n    this.setState({\n      [event.target.id]: event.target.value\n    });\n  };\n\n  handleSubmit = async event => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    try {\n      const newUser = await Auth.signUp({\n        username: this.state.email,\n        password: this.state.password\n      });\n      this.setState({\n        newUser\n      });\n    } catch (e) {\n      alert(e.message);\n    }\n\n    this.setState({ isLoading: false });\n  };\n\n  handleConfirmationSubmit = async event => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    try {\n      await Auth.confirmSignUp(this.state.email, this.state.confirmationCode);\n      await Auth.signIn(this.state.email, this.state.password);\n\n      this.props.userHasAuthenticated(true);\n      this.props.history.push(\"/\");\n    } catch (e) {\n      alert(e.message);\n      this.setState({ isLoading: false });\n    }\n  };\n\n  renderConfirmationForm() {\n    return (\n      <form onSubmit={this.handleConfirmationSubmit}>\n        <FormGroup controlId=\"confirmationCode\" bsSize=\"large\">\n          <ControlLabel>Confirmation Code</ControlLabel>\n          <FormControl\n            autoFocus\n            type=\"tel\"\n            value={this.state.confirmationCode}\n            onChange={this.handleChange}\n          />\n          <HelpBlock>Please check your email for the code.</HelpBlock>\n        </FormGroup>\n        <LoaderButton\n          block\n          bsSize=\"large\"\n          disabled={!this.validateConfirmationForm()}\n          type=\"submit\"\n          isLoading={this.state.isLoading}\n          text=\"Verify\"\n          loadingText=\"Verifying…\"\n        />\n      </form>\n    );\n  }\n\n  renderForm() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <FacebookButton\n          onLogin={this.handleFbLogin}\n        />\n        <hr />\n        <FormGroup controlId=\"email\" bsSize=\"large\">\n          <ControlLabel>Email</ControlLabel>\n          <FormControl\n            autoFocus\n            type=\"email\"\n            value={this.state.email}\n            onChange={this.handleChange}\n          />\n        </FormGroup>\n        <FormGroup controlId=\"password\" bsSize=\"large\">\n          <ControlLabel>Password</ControlLabel>\n          <FormControl\n            value={this.state.password}\n            onChange={this.handleChange}\n            type=\"password\"\n          />\n        </FormGroup>\n        <FormGroup controlId=\"confirmPassword\" bsSize=\"large\">\n          <ControlLabel>Confirm Password</ControlLabel>\n          <FormControl\n            value={this.state.confirmPassword}\n            onChange={this.handleChange}\n            type=\"password\"\n          />\n        </FormGroup>\n        <LoaderButton\n          block\n          bsSize=\"large\"\n          disabled={!this.validateForm()}\n          type=\"submit\"\n          isLoading={this.state.isLoading}\n          text=\"Signup\"\n          loadingText=\"Signing up…\"\n        />\n      </form>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"Signup\">\n        {this.state.newUser === null\n          ? this.renderForm()\n          : this.renderConfirmationForm()}\n      </div>\n    );\n  }\n}\n","import { Storage } from \"aws-amplify\";\n\nexport async function s3Upload(file) {\n  const filename = `${Date.now()}-${file.name}`;\n\n  const stored = await Storage.vault.put(filename, file, {\n    contentType: file.type,\n  });\n\n  return stored.key;\n}","export function onError(error) {\n    let message = error.toString();\n  \n    // Auth errors\n    if (!(error instanceof Error) && error.message) {\n      message = error.message;\n    }\n  \n    alert(message);\n  }","export default {\n  MAX_ATTACHMENT_SIZE: 50000000,\n  s3: {\n    REGION: \"us-east-1\",\n    BUCKET: \"dance-town-app-api-dev-0-attachmentsbucket-1m6dsoqfa81qq\"\n  },\n  apiGateway: {\n    REGION: \"us-east-1\",\n    URL: \"https://1z9h7oowzl.execute-api.us-east-1.amazonaws.com/dev-0\"\n  },\n  cognito: {\n    REGION: \"us-east-1\",\n    USER_POOL_ID: \"us-east-1_FmaY7lyDe\",\n    APP_CLIENT_ID: \"l21rmjvnvl6ov8l9b23f7q7if\",\n    IDENTITY_POOL_ID: \"us-east-1:23fdb785-602c-4591-97b6-f687b3be51fe\"\n  },\n  social: {\n    FB: \"192446828747386\"\n  }\n};\n","import React, { useRef, useState } from \"react\";\nimport { s3Upload } from \"../libs/awsLib\";\nimport { useHistory } from \"react-router-dom\";\nimport { FormGroup, FormControl, ControlLabel } from \"react-bootstrap\";\nimport LoaderButton from \"../components/LoaderButton\";\nimport { API } from \"aws-amplify\";\nimport { onError } from \"../libs/errorLib\";\nimport config from \"../config\";\nimport \"./NewNote.css\";\n\nexport default function NewNote() {\n  const file = useRef(null);\n  const history = useHistory();\n  const [content, setContent] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  function validateForm() {\n    return content.length > 0;\n  }\n\n  function handleFileChange(event) {\n    file.current = event.target.files[0];\n  }\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n  \n    if (file.current && file.current.size > config.MAX_ATTACHMENT_SIZE) {\n      alert(\n        `Please pick a file smaller than ${\n          config.MAX_ATTACHMENT_SIZE / 1000000\n        } MB.`\n      );\n      return;\n    }\n  \n    setIsLoading(true);\n  \n    try {\n      const attachment = file.current ? await s3Upload(file.current) : null;\n  \n      await createNote({ content, attachment });\n      history.push(\"/\");\n    } catch (e) {\n      onError(e);\n      setIsLoading(false);\n    }\n  }\n  \n  \n  function createNote(note) {\n    return API.post(\"notes\", \"/notes\", {\n      body: note\n    });\n  }\n\n  return (\n    <div className=\"NewNote\">\n      <form onSubmit={handleSubmit}>\n        <FormGroup controlId=\"content\">\n          <FormControl\n            value={content}\n            componentClass=\"textarea\"\n            onChange={e => setContent(e.target.value)}\n          />\n        </FormGroup>\n        <FormGroup controlId=\"file\">\n          <ControlLabel>Attachment</ControlLabel>\n          <FormControl onChange={handleFileChange} type=\"file\" />\n        </FormGroup>\n        <LoaderButton\n            block\n            bsStyle=\"primary\"\n            bsSize=\"large\"\n            disabled={!validateForm()}\n            type=\"submit\"\n            isLoading={isLoading}\n            text=\"Create\"\n            loadingText=\"Creating…\"\n          />\n      </form>\n    </div>\n  );\n}","import React, { useRef, useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { API, Storage } from \"aws-amplify\";\nimport { s3Upload } from \"../libs/awsLib\";\nimport { onError } from \"../libs/errorLib\";\nimport { FormGroup, FormControl, ControlLabel } from \"react-bootstrap\";\nimport LoaderButton from \"../components/LoaderButton\";\nimport config from \"../config\";\nimport \"./Challenges.css\";\n\nexport default function Notes() {\n    const file = useRef(null);\n    const { id } = useParams();\n    const history = useHistory();\n    const [challenge, setNote] = useState(null);\n    const [content, setContent] = useState(\"\");\n    const [isLoading, setIsLoading] = useState(false);\n    const [isDeleting, setIsDeleting] = useState(false);\n\n    useEffect(() => {\n        function loadNote() {\n            return API.get(\"notes\", `/notes/${id}`);\n        }\n\n        async function onLoad() {\n            try {\n                const challenge = await loadNote();\n                const { content, attachment } = challenge;\n\n                if (attachment) {\n                    challenge.attachmentURL = await Storage.vault.get(attachment);\n                }\n\n                setContent(content);\n                setNote(challenge);\n            } catch (e) {\n                onError(e);\n            }\n        }\n\n        onLoad();\n    }, [id]);\n\n    function validateForm() {\n        return content.length > 0;\n    }\n\n    function formatFilename(str) {\n        return str.replace(/^\\w+-/, \"\");\n    }\n\n    function handleFileChange(event) {\n        file.current = event.target.files[0];\n    }\n\n    function saveNote(challenge) {\n        return API.put(\"notes\", `/notes/${id}`, {\n            body: challenge\n        });\n    }\n\n    async function handleSubmit(event) {\n        let attachment;\n\n        event.preventDefault();\n\n        if (file.current && file.current.size > config.MAX_ATTACHMENT_SIZE) {\n            alert(\n                `Please pick a file smaller than ${\n                config.MAX_ATTACHMENT_SIZE / 1000000\n                } MB.`\n            );\n            return;\n        }\n\n        setIsLoading(true);\n\n        try {\n            if (file.current) {\n                attachment = await s3Upload(file.current);\n            }\n\n            await saveNote({\n                content,\n                attachment: attachment || challenge.attachment\n            });\n            history.push(\"/\");\n        } catch (e) {\n            onError(e);\n            setIsLoading(false);\n        }\n    }\n\n    function deleteNote() {\n        return API.del(\"notes\", `/notes/${id}`);\n    }\n\n    async function handleDelete(event) {\n        event.preventDefault();\n\n        const confirmed = window.confirm(\n            \"Are you sure you want to delete this challenge?\"\n        );\n\n        if (!confirmed) {\n            return;\n        }\n\n        setIsDeleting(true);\n\n        try {\n            await deleteNote();\n            history.push(\"/\");\n        } catch (e) {\n            onError(e);\n            setIsDeleting(false);\n        }\n    }\n\n    return (\n        <div className=\"Challenges\">\n            {challenge && (\n                <form onSubmit={handleSubmit}>\n                    <FormGroup controlId=\"content\">\n                        <FormControl\n                            value={content}\n                            componentClass=\"textarea\"\n                            onChange={e => setContent(e.target.value)}\n                        />\n                    </FormGroup>\n                    {challenge.attachment && (\n                        <FormGroup>\n                            <ControlLabel>Attachment</ControlLabel>\n                            <FormControl.Static>\n                                <a\n                                    target=\"_blank\"\n                                    rel=\"noopener noreferrer\"\n                                    href={challenge.attachmentURL}\n                                >\n                                    {formatFilename(challenge.attachment)}\n                                </a>\n                            </FormControl.Static>\n                        </FormGroup>\n                    )}\n                    {challenge.attachment && (\n                        <video width=\"320\" height=\"240\" controls>\n                            <source src={challenge.attachmentURL} type=\"video/mp4\" />\n                        </video>\n                    )}\n                    <FormGroup controlId=\"file\">\n                        {!challenge.attachment && <ControlLabel>Attachment</ControlLabel>}\n                        <FormControl onChange={handleFileChange} type=\"file\" />\n                    </FormGroup>\n                    <LoaderButton\n                        block\n                        type=\"submit\"\n                        bsSize=\"large\"\n                        bsStyle=\"primary\"\n                        isLoading={isLoading}\n                        disabled={!validateForm()}\n                    >\n                        Save\n          </LoaderButton>\n                    <LoaderButton\n                        block\n                        bsSize=\"large\"\n                        bsStyle=\"danger\"\n                        onClick={handleDelete}\n                        isLoading={isDeleting}\n                    >\n                        Delete\n          </LoaderButton>\n                </form>\n            )}\n        </div>\n    );\n}","import React from \"react\";\nimport { Route } from \"react-router-dom\";\n\nexport default ({ component: C, props: cProps, ...rest }) =>\n  <Route {...rest} render={props => <C {...props} {...cProps} />} />;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport default ({ component: C, props: cProps, ...rest }) =>\n  <Route\n    {...rest}\n    render={props =>\n      cProps.isAuthenticated\n        ? <C {...props} {...cProps} />\n        : <Redirect\n            to={`/login?redirect=${props.location.pathname}${props.location\n              .search}`}\n          />}\n  />;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nfunction querystring(name, url = window.location.href) {\n  name = name.replace(/[[]]/g, \"\\\\$&\");\n\n  const regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\", \"i\");\n  const results = regex.exec(url);\n\n  if (!results) {\n    return null;\n  }\n  if (!results[2]) {\n    return \"\";\n  }\n\n  return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\nexport default ({ component: C, props: cProps, ...rest }) => {\n  const redirect = querystring(\"redirect\");\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        !cProps.isAuthenticated\n          ? <C {...props} {...cProps} />\n          : <Redirect\n              to={redirect === \"\" || redirect === null ? \"/\" : redirect}\n            />}\n    />\n  );\n};\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n// Views:\nimport NotFound from \"./containers/NotFound\";\nimport Home from \"./containers/Home\";\nimport Login from \"./containers/Login\";\nimport Signup from \"./containers/Signup\";\nimport NewNote from \"./containers/NewNote\";\nimport Challenges from \"./containers/Challenges\";\nimport AppliedRoute from \"./components/AppliedRoute\";\nimport AuthenticatedRoute from \"./components/AuthenticatedRoute\";\nimport UnauthenticatedRoute from \"./components/UnauthenticatedRoute\";\n\nexport default ({ childProps }) =>\n    <Switch>\n        <AppliedRoute path=\"/\" exact component={Home} props={childProps} />\n        <UnauthenticatedRoute path=\"/login\" exact component={Login} props={childProps} />\n        <UnauthenticatedRoute path=\"/signup\" exact component={Signup} props={childProps} />\n        <AuthenticatedRoute exact path=\"/challenges/new\">\n            <NewNote />\n        </AuthenticatedRoute>\n        <AuthenticatedRoute exact path=\"/challenges/:id\">\n            <Challenges />\n        </AuthenticatedRoute>\n        <Route component={NotFound} />\n\n    </Switch>;","import React, { Component, Fragment } from \"react\";\nimport { Auth } from \"aws-amplify\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { Nav, Navbar, NavItem } from \"react-bootstrap\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport Routes from \"./Routes\";\nimport config from \"./config\";\nimport \"./App.css\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isAuthenticated: false,\n      isAuthenticating: true\n    };\n  }\n\n  async componentDidMount() {\n    this.loadFacebookSDK();\n\n    try {\n      await Auth.currentAuthenticatedUser();\n      this.userHasAuthenticated(true);\n    } catch (e) {\n      if (e !== \"not authenticated\") {\n        alert(e);\n      }\n    }\n\n    this.setState({ isAuthenticating: false });\n  }\n\n  loadFacebookSDK() {\n    window.fbAsyncInit = function() {\n      window.FB.init({\n        appId            : config.social.FB,\n        autoLogAppEvents : true,\n        xfbml            : true,\n        version          : 'v3.1'\n      });\n    };\n\n    (function(d, s, id){\n       var js, fjs = d.getElementsByTagName(s)[0];\n       if (d.getElementById(id)) {return;}\n       js = d.createElement(s); js.id = id;\n       js.src = \"https://connect.facebook.net/en_US/sdk.js\";\n       fjs.parentNode.insertBefore(js, fjs);\n     }(document, 'script', 'facebook-jssdk'));\n  }\n\n  userHasAuthenticated = authenticated => {\n    this.setState({ isAuthenticated: authenticated });\n  };\n\n  handleLogout = async event => {\n    await Auth.signOut();\n\n    this.userHasAuthenticated(false);\n\n    this.props.history.push(\"/login\");\n  };\n\n  render() {\n    const childProps = {\n      isAuthenticated: this.state.isAuthenticated,\n      userHasAuthenticated: this.userHasAuthenticated\n    };\n\n    return (\n      !this.state.isAuthenticating && (\n        <div className=\"App container\">\n          <Navbar fluid collapseOnSelect>\n            <Navbar.Header>\n              <Navbar.Brand>\n                <Link to=\"/\">DanceTown</Link>\n              </Navbar.Brand>\n              <Navbar.Toggle />\n            </Navbar.Header>\n            <Navbar.Collapse>\n              <Nav pullRight>\n                {this.state.isAuthenticated ? (\n                  <NavItem onClick={this.handleLogout}>Logout</NavItem>\n                ) : (\n                  <Fragment>\n                    <LinkContainer to=\"/signup\">\n                      <NavItem>Signup</NavItem>\n                    </LinkContainer>\n                    <LinkContainer to=\"/login\">\n                      <NavItem>Login</NavItem>\n                    </LinkContainer>\n                  </Fragment>\n                )}\n              </Nav>\n            </Navbar.Collapse>\n          </Navbar>\n          <Routes childProps={childProps} />\n        </div>\n      )\n    );\n  }\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, HashRouter } from 'react-router-dom';\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Amplify } from 'aws-amplify';\nimport config from './config';\n\nAmplify.configure({\n  Auth: {\n    mandatorySignIn: true,\n    region: config.cognito.REGION,\n    userPoolId: config.cognito.USER_POOL_ID,\n    identityPoolId: config.cognito.IDENTITY_POOL_ID,\n    userPoolWebClientId: config.cognito.APP_CLIENT_ID\n  },\n  Storage: {\n    region: config.s3.REGION,\n    bucket: config.s3.BUCKET,\n    identityPoolId: config.cognito.IDENTITY_POOL_ID\n  },\n  API: {\n    endpoints: [\n      {\n        name: \"notes\",\n        endpoint: config.apiGateway.URL,\n        region: config.apiGateway.REGION\n      },\n    ]\n  }\n});\n\nReactDOM.render(\n  <HashRouter basename='/'>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}